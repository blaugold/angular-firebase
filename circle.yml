general:
  artifacts:
    - coverage

machine:
  environment:
    COVERALLS_SERVICE_NAME: circleci
    COVERALLS_SERVICE_JOB_ID: $CIRCLE_BUILD_NUM

dependencies:
  override:
    - yarn

deployment:
  production:
    tag: /v\N\.\N\.\N/
    owner: blaugold
    commands:
      - npm run build
      - npm run coveralls
